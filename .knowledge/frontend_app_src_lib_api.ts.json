{"is_source_file": true, "format": "TypeScript", "description": "This file provides API client functions for interacting with backend services, including fetching connectors, creating/updating/deleting connectors, handling authentication (API key and OAuth), invoking tools, and managing registry providers. It abstracts HTTP requests with helper functions, provides typed responses, and is used in frontend applications.", "external_files": ["@/types/api"], "external_methods": ["fetch"], "published": ["getConnectors", "getConnector", "createConnector", "updateConnector", "deleteConnector", "authWithApiKey", "oauthInit", "invokeTool", "listRegistry", "upsertRegistry", "deleteRegistryProvider"], "classes": [], "methods": [{"name": "function baseUrl() { baseUrl", "description": "Resolves the backend URL, preferring environment variable, defaulting to relative path.", "scope": "", "scopeKind": ""}, {"name": "function jsonHeaders(extra?: Record<string, string>): HeadersInit { jsonHeaders", "description": "Constructs headers for JSON requests, optionally including extra headers.", "scope": "", "scopeKind": ""}, {"name": "async function handle<T>(res: Response): Promise<T> { handle", "description": "Processes fetch responses, parses JSON/text, throws errors if response not ok.", "scope": "", "scopeKind": ""}, {"name": "async function apiFetch<T>(path: string, init?: RequestInit): Promise<T> { apiFetch", "description": "Wrapper around fetch using baseUrl and response handling.", "scope": "", "scopeKind": ""}, {"name": "export async function authWithApiKey(payload: { authWithApiKey", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function createConnector(payload: ConnectorCreateRequest): Promise<Connector> { createConnector", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function deleteConnector(id: string): Promise<Record<string, unknown>> { deleteConnector", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function deleteRegistryProvider(provider: string, apiKey: string | null): Promise<R/ deleteRegistryProvider", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function getConnector(id: string): Promise<Connector> { getConnector", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function getConnectors(tenantId?: string | null): Promise<ConnectorListResponse> { getConnectors", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function invokeTool(payload: { invokeTool", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function listRegistry(apiKey: string | null): Promise<RegistryListResponse> { listRegistry", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function oauthInit(payload: { oauthInit", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function updateConnector( updateConnector", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export async function upsertRegistry( upsertRegistry", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "apiFetch<ConnectorListResponse>", "apiFetch<Connector>", "apiFetch<Connector>", "apiFetch<Connector>", "apiFetch<Record<string, unknown>>", "apiFetch<ApiKeyAuthResponse>", "apiFetch<OAuthInitResponse>", "apiFetch<LLMToolResponse | Record<string, unknown>>", "apiFetch<RegistryListResponse>", "apiFetch<RegistryConnector>", "apiFetch<Record<string, unknown>>"], "search-terms": ["api client functions", "connectors", "auth api key", "oauth init", "invoke tool", "registry management", "API fetch wrapper", "TypeScript API"], "state": 2, "file_id": 27, "knowledge_revision": 76, "git_revision": "", "revision_history": [{"75": ""}, {"76": ""}], "ctags": [{"_type": "tag", "name": "ConnectorCreateRequest", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^type ConnectorCreateRequest = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^async function apiFetch<T>(path: string, init?: RequestInit): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "authWithApiKey", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function authWithApiKey(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^function baseUrl() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "contentType", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const contentType = res.headers.get(\"Content-Type\") || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "handle", "scopeKind": "function"}, {"_type": "tag", "name": "createConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function createConnector(payload: ConnectorCreateRequest): Promise<Connector> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function deleteConnector(id: string): Promise<Record<string, unknown>> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteRegistryProvider", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function deleteRegistryProvider(provider: string, apiKey: string | null): Promise<R/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fromEnv", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const fromEnv = process.env.NEXT_PUBLIC_BACKEND_URL;$/", "language": "TypeScript", "kind": "constant", "scope": "baseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "getConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function getConnector(id: string): Promise<Connector> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getConnectors", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function getConnectors(tenantId?: string | null): Promise<ConnectorListResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "handle", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^async function handle<T>(res: Response): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers = apiKey ? jsonHeaders({ \"X-API-Key\": apiKey }) : jsonHeaders();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRegistryProvider", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers = apiKey ? jsonHeaders({ \"X-API-Key\": apiKey }) : jsonHeaders();$/", "language": "TypeScript", "kind": "constant", "scope": "listRegistry", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers = apiKey ? jsonHeaders({ \"X-API-Key\": apiKey }) : jsonHeaders();$/", "language": "TypeScript", "kind": "constant", "scope": "upsertRegistry", "scopeKind": "function"}, {"_type": "tag", "name": "invokeTool", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function invokeTool(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isJson", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const isJson = contentType.includes(\"application\\/json\");$/", "language": "TypeScript", "kind": "constant", "scope": "handle", "scopeKind": "function"}, {"_type": "tag", "name": "jsonHeaders", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers = apiKey ? jsonHeaders({ \"X-API-Key\": apiKey }) : jsonHeaders();$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRegistryProvider", "scopeKind": "function"}, {"_type": "tag", "name": "jsonHeaders", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers = apiKey ? jsonHeaders({ \"X-API-Key\": apiKey }) : jsonHeaders();$/", "language": "TypeScript", "kind": "constant", "scope": "listRegistry", "scopeKind": "function"}, {"_type": "tag", "name": "jsonHeaders", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers = apiKey ? jsonHeaders({ \"X-API-Key\": apiKey }) : jsonHeaders();$/", "language": "TypeScript", "kind": "constant", "scope": "upsertRegistry", "scopeKind": "function"}, {"_type": "tag", "name": "jsonHeaders", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^function jsonHeaders(extra?: Record<string, string>): HeadersInit {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "listRegistry", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function listRegistry(apiKey: string | null): Promise<RegistryListResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^    const message =$/", "language": "TypeScript", "kind": "constant", "scope": "handle", "scopeKind": "function"}, {"_type": "tag", "name": "oauthInit", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function oauthInit(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const qs = tenantId ? `?tenant_id=${encodeURIComponent(tenantId)}` : \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "getConnectors", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, init);$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}, {"_type": "tag", "name": "updateConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function updateConnector($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "upsertRegistry", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function upsertRegistry($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const url = `${baseUrl()}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "apiFetch", "scopeKind": "function"}], "hash": "5ac1523c0d581ae06dd2681d02a6fa89", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/lib/api.ts"}