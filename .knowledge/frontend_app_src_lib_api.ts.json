{"is_source_file": true, "format": "TypeScript", "description": "This file provides client-side utility functions to interact with the backend API endpoints for authentication, connector management, registry management, and invoking tools. It handles URL construction, request sending, error parsing, and exports functions for external use.", "external_files": ["@/types/api"], "external_methods": [], "published": ["authWithApiKey", "oauthInit", "oauthCallback", "getConnectors", "createConnector", "getConnector", "updateConnector", "deleteConnector", "invokeTool", "listRegistry", "upsertRegistry", "deleteRegistryProvider"], "classes": [], "methods": [{"name": "function proxyUrl(path: string, query?: Record<string, string | number | boolean | null | undefi/ proxyUrl", "description": "Constructs a relative URL for API proxy requests, supporting optional query parameters.", "scope": "", "scopeKind": ""}, {"name": "async function request<T>(method: \"GET\" | \"POST\" | \"PATCH\" | \"DELETE\", path: string, body?: unkn/ request", "description": "Generic HTTP request wrapper handling JSON encoding, decoding, and error parsing.", "scope": "", "scopeKind": ""}, {"name": "export async function authWithApiKey(payload: { authWithApiKey", "description": "Authenticates a tenant via API key using a POST request to /auth/api-key.", "scope": "", "scopeKind": ""}, {"name": "export async function oauthInit(payload: { oauthInit", "description": "Starts OAuth authentication flow; returns authorization URL and state.", "scope": "", "scopeKind": ""}, {"name": "export async function oauthCallback(payload: { oauthCallback", "description": "Completes OAuth flow, exchanging code for token.", "scope": "", "scopeKind": ""}, {"name": "export async function getConnectors(tenant_id?: string | null): Promise<ApiResult<ConnectorListR/ getConnectors", "description": "Retrieves a list of connectors, optionally filtered by tenant.", "scope": "", "scopeKind": ""}, {"name": "export async function createConnector(payload: { createConnector", "description": "Creates a new connector with specified provider, auth method, and configuration.", "scope": "", "scopeKind": ""}, {"name": "export async function getConnector(connector_id: string): Promise<ApiResult<Connector>> { getConnector", "description": "Fetches details of a specific connector by ID.", "scope": "", "scopeKind": ""}, {"name": "export async function updateConnector( updateConnector", "description": "Updates label and configuration of an existing connector.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteConnector(connector_id: string): Promise<Record<string, unknown>> { deleteConnector", "description": "Deletes a connector by its ID.", "scope": "", "scopeKind": ""}, {"name": "export async function invokeTool(payload: { invokeTool", "description": "Calls a provider tool through the LLM proxy endpoint.", "scope": "", "scopeKind": ""}, {"name": "export async function listRegistry(apiKey: string | null): Promise<ApiResult<RegistryListRespons/ listRegistry", "description": "Lists registry providers, optionally with admin API key.", "scope": "", "scopeKind": ""}, {"name": "export async function upsertRegistry(payload: { upsertRegistry", "description": "Creates or updates a registry provider entry.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteRegistryProvider(provider: string, apiKey: string | null): Promise<R/ deleteRegistryProvider", "description": "Deletes a registry provider by name.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "new URL", "Object.entries", "res.headers.get", "res.ok", "res.json", "res.text"], "search-terms": ["api client", "connectors", "OAuth", "registry", "proxy URL", "API request wrapper", "backend API", "API key authentication"], "state": 2, "file_id": 35, "knowledge_revision": 135, "git_revision": "", "ctags": [{"_type": "tag", "name": "authWithApiKey", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function authWithApiKey(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const base = \"\\/api\\/proxy\";$/", "language": "TypeScript", "kind": "constant", "scope": "proxyUrl", "scopeKind": "function"}, {"_type": "tag", "name": "contentType", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const contentType = res.headers.get(\"content-type\") || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "createConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function createConnector(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function deleteConnector(connector_id: string): Promise<Record<string, unknown>> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteRegistryProvider", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function deleteRegistryProvider(provider: string, apiKey: string | null): Promise<R/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function getConnector(connector_id: string): Promise<ApiResult<Connector>> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getConnectors", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function getConnectors(tenant_id?: string | null): Promise<ApiResult<ConnectorListR/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers: Record<string, string> = {};$/", "language": "TypeScript", "kind": "constant", "scope": "deleteRegistryProvider", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers: Record<string, string> = {};$/", "language": "TypeScript", "kind": "constant", "scope": "listRegistry", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const headers: Record<string, string> = {};$/", "language": "TypeScript", "kind": "constant", "scope": "upsertRegistry", "scopeKind": "function"}, {"_type": "tag", "name": "invokeTool", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function invokeTool(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "j", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^        const j = (await res.json()) as { detail?: unknown; message?: string; error?: string };$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "k", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^    for (const [k, v] of Object.entries(query)) {$/", "language": "TypeScript", "kind": "constant", "scope": "proxyUrl", "scopeKind": "function"}, {"_type": "tag", "name": "listRegistry", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function listRegistry(apiKey: string | null): Promise<ApiResult<RegistryListRespons/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "oauthCallback", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function oauthCallback(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "oauthInit", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function oauthInit(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const p = path.startsWith(\"\\/\") ? path : `\\/${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "proxyUrl", "scopeKind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const path = tenant_id ? proxyUrl(\"\\/connectors\", { tenant_id }) : proxyUrl(\"\\/connectors\");$/", "language": "TypeScript", "kind": "constant", "scope": "getConnectors", "scopeKind": "function"}, {"_type": "tag", "name": "proxyUrl", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const path = tenant_id ? proxyUrl(\"\\/connectors\", { tenant_id }) : proxyUrl(\"\\/connectors\");$/", "language": "TypeScript", "kind": "constant", "scope": "getConnectors", "scopeKind": "function"}, {"_type": "tag", "name": "proxyUrl", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^function proxyUrl(path: string, query?: Record<string, string | number | boolean | null | undefi/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^async function request<T>(method: \"GET\" | \"POST\" | \"PATCH\" | \"DELETE\", path: string, body?: unkn/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const res = await fetch(proxyUrl(path), {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "txt", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^        const txt = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "updateConnector", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function updateConnector($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "upsertRegistry", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^export async function upsertRegistry(payload: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^  const url = new URL(`${base}${p}`, typeof window !== \"undefined\" ? window.location.origin : \"h/", "language": "TypeScript", "kind": "constant", "scope": "proxyUrl", "scopeKind": "function"}, {"_type": "tag", "name": "v", "path": "/home/kavia/workspace/code-generation/unified-connector-platform-167385-167395/frontend_app/src/lib/api.ts", "pattern": "/^    for (const [k, v] of Object.entries(query)) {$/", "language": "TypeScript", "kind": "constant", "scope": "proxyUrl", "scopeKind": "function"}], "hash": "c2ed0dd18940bc88bf06eef1599ae18e", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/lib/api.ts", "revision_history": [{"135": ""}]}